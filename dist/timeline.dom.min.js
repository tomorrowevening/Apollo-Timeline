"use strict";function isLinear(t,e,r,i){return t===e&&r===i}function curveAt(t,e,r,i,a){if(t<=0)return 0;if(t>=1)return 1;if(isLinear(e,r,i,a))return t;var n=0,o=0,s=e,u=r,l=i,h=a,f=1,c=1,d=f-3*l+3*s-n,p=3*l-6*s+3*n,y=3*s-3*n,m=n,g=c-3*h+3*u-o,v=3*h-6*u+3*o,_=3*u-3*o,b=o,k=t,w=void 0,P=void 0,C=void 0;for(w=0;w<5;w++)P=xFromT(k,d,p,y,m),C=slopeFromT(k,d,p,y),k-=(P-t)*C,k=Math.min(Math.max(k,0),1);return yFromT(k,g,v,_,b)}function slopeFromT(t,e,r,i){return 1/(3*e*t*t+2*r*t+i)}function xFromT(t,e,r,i,a){return e*(t*t*t)+r*(t*t)+i*t+a}function yFromT(t,e,r,i,a){var n=t*t;return e*(n*t)+r*n+i*t+a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function styleOptions(t,e,r){var i={fill:"none",fillAlpha:1,stroke:void 0,strokeAlpha:1,strokeCap:"butt",strokeCorner:"miter",strokeDashes:void 0,strokeWidth:void 0,transform:void 0,timeline:[]},a=void 0,n=e.length;for(a=0;a<n;++a){var o=e[a];if("fill"===o.type){var s=Math.round(255*o.value.color[0]).toString(),u=Math.round(255*o.value.color[1]).toString(),l=Math.round(255*o.value.color[2]).toString(),h=o.value.opacity;i.fill="rgb("+s+", "+u+", "+l+")",i.fillAlpha=h,o.timeline.length>0&&(i.timeline=i.timeline.concat(o.timeline))}else if("stroke"===o.type){var f=Math.round(255*o.value.color[0]).toString(),c=Math.round(255*o.value.color[1]).toString(),d=Math.round(255*o.value.color[2]).toString();i.stroke="rgb("+f+", "+c+", "+d+")",i.strokeAlpha=o.value.opacity,i.strokeCap=o.value.cap,i.strokeCorner=o.value.corner,i.strokeDashes=o.value.dashes,i.strokeWidth=o.value.width,o.timeline.length>0&&(i.timeline=i.timeline.concat(o.timeline))}else if("transform"===o.type)i.transform=o;else if("trim"===o.type)for(var p=t.children.length,y=0;y<p;++y){var m=t.children[y];"path"===m.tagName&&applyTrimPath(m,o,r)}}return i}function applyTrimPath(t,e,r){t._startPercent=e.value.start,t._endPercent=e.value.end,t._offsetPercent=e.value.offset,t.updatePath();var i={start:"startPercent",end:"endPercent",offset:"offsetPercent"},a=void 0,n=e.timeline.length-1;for(a=n;a>-1;--a){var o=e.timeline[a],s=i[o.name];if(void 0!==s){var u=void 0,l=o.keys.length;for(u=0;u<l;++u){var h=o.keys[u],f=h.value,c=h.target,d=h.start,p=h.duration,y=h.x0,m=h.y0,g=h.x1,v=h.y1,_=[y,m,g,v],b=new _Keyframe2["default"](t,s,c,p,d,_,f);b.easeType=h.type,r.addKeyframe(b)}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isLinear=isLinear,exports.curveAt=curveAt,exports.slopeFromT=slopeFromT,exports.xFromT=xFromT,exports.yFromT=yFromT;var Ease=exports.Ease={linear:[.25,.25,.75,.75],inQuad:[.55,.085,.68,.53],inCubic:[.55,.055,.675,.19],inQuart:[.895,.03,.685,.22],inQuint:[.755,.05,.855,.06],inSine:[.47,0,.745,.715],inExpo:[.95,.05,.795,.035],inCirc:[.6,.04,.98,.335],inBack:[.6,0,.735,.045],outQuad:[.25,.46,.45,.94],outCubic:[.215,.61,.355,1],outQuart:[.165,.84,.44,1],outQuint:[.23,1,.32,1],outSine:[.39,.575,.565,1],outExpo:[.19,1,.22,1],outCirc:[.075,.82,.165,1],outBack:[.175,.885,.32,1],inOutQuad:[.455,.03,.515,.955],inOutCubic:[.645,.045,.355,1],inOutQuart:[.77,0,.175,1],inOutQuint:[.86,0,.07,1],inOutSine:[.445,.05,.55,.95],inOutExpo:[1,0,0,1],inOutCirc:[.785,.135,.15,.86],inOutBack:[.68,0,.265,1]};Object.defineProperty(exports,"__esModule",{value:!0});var Marker=function t(e,r,i,a,n){_classCallCheck(this,t),this.name=void 0!==e?e:"",this.time=void 0!==r?r:0,this.action=void 0!==i?i:"",this.duration=void 0!==a?a:0,this.trigger=void 0!==n?n:function(){}};exports["default"]=Marker,Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),TIME=exports.TIME=performance||Date,Timer=exports.Timer=function(){function t(e){_classCallCheck(this,t),this.running=!1,this.time=1,this.timeStamp=0,this.deltaStamp=0,this.elapsedStamp=0,this.delayed=[],this.onRAF=void 0,this.onUpdate=this.update.bind(this),this.updateHandler=e}return _createClass(t,[{key:"play",value:function(){this.timeStamp=TIME.now(),this.running=!0,this.update()}},{key:"pause",value:function(){window.cancelAnimationFrame(this.onRAF),this.running=!1}},{key:"restart",value:function(){this.deltaStamp=this.elapsedStamp=0,this.stamp()}},{key:"stamp",value:function(){this.timeStamp=TIME.now()}},{key:"update",value:function(){var t=TIME.now();this.deltaStamp=t-this.timeStamp,this.elapsedStamp+=this.deltaStamp*this.time,this.timeStamp=t;var e=void 0,r=void 0,i=this.delayed.length;for(e=0;e<i;++e)r=this.delayed[e],t>=r.time&&(r.callback(r.params),this.delayed.splice(e,1),--e,--i);this.updateHandler(),this.onRAF=window.requestAnimationFrame(this.onUpdate)}},{key:"delay",value:function(t,e,r){this.delayed.push({time:1e3*t+TIME.now(),callback:e,params:r})}},{key:"seconds",get:function(){return this.elapsedStamp/1e3},set:function(t){this.elapsedStamp=1e3*t}}]),t}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.Keyframe=exports.KeyframeType=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_Bezier=require("./Bezier"),_MathUtil=require("apollo-utils/MathUtil"),_MathUtil2=_interopRequireDefault(_MathUtil),KeyframeType=exports.KeyframeType={LINEAR:"linear",BEZIER:"bezier",HOLD:"hold"},Keyframe=exports.Keyframe=function(){function t(e,r,i,a,n){_classCallCheck(this,t),n=void 0!==n?n:{},this.active=!1,this.object=e,this.key=r,this.endValue=i,this.duration=a,this.timestamp=void 0!==n.delay?n.delay:0,this.ease=void 0!==n.ease?n.ease:[.25,.25,.75,.75],this.startValue=n.start,this.onComplete=n.onComplete,this.onUpdate=n.onUpdate,this.easeType=KeyframeType.BEZIER,this.ease[0]===this.ease[1]&&this.ease[2]===this.ease[3]&&(this.easeType=KeyframeType.LINEAR)}return _createClass(t,[{key:"update",value:function(t){var e=t;this.easeType===KeyframeType.BEZIER?e=(0,_Bezier.curveAt)(e,this.ease[0],this.ease[1],this.ease[2],this.ease[3]):this.easeType===KeyframeType.HOLD&&(e=t<1?0:1),this.active||void 0!==this.startValue||(this.startValue=this.object[this.key]),this.object[this.key]=_MathUtil2["default"].lerp(e,this.startValue,this.endValue),void 0!==this.onUpdate&&this.onUpdate(t,e)}},{key:"complete",value:function(){this.update(1),void 0!==this.onComplete&&this.onComplete(),this.active=!1}},{key:"isActive",value:function(t){return t>=this.startTime&&t<=this.endTime}},{key:"startTime",get:function(){return this.timestamp}},{key:"endTime",get:function(){return this.timestamp+this.duration}}]),t}();Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Layer=function(){function t(e){_classCallCheck(this,t),this.name=void 0!==e.name?e.name:"",this.start=void 0!==e.start?e.start:0,this.duration=void 0!==e.duration?e.duration:0,this.fileID="",this.file=void 0,this.item=void 0,this.showing=void 0===e.showing||e.showing}return _createClass(t,[{key:"update",value:function(t){void 0!==this.item&&void 0!==this.item.update&&this.item.update(t)}},{key:"draw",value:function(){void 0!==this.item&&void 0!==this.item.draw&&this.item.draw()}},{key:"animate",value:function(t,e){void 0!==this.item&&void 0!==this.item.animate&&this.item.animate(t,e)}},{key:"transform",value:function(t,e){void 0!==this.item&&void 0!==this.item.transform&&this.item.transform(t,e)}},{key:"showable",value:function(t){var e=this.start+this.duration;return!(this.duration>0)||t>=this.start&&t<=e}}]),t}();exports["default"]=Layer,Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerAudio=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_Config=require("./Config"),_Config2=_interopRequireDefault(_Config),_Layer2=require("./Layer"),_Layer3=_interopRequireDefault(_Layer2),LayerAudio=exports.LayerAudio=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.timestamp=0,void 0!==t.content&&(r.fileID=_Config2["default"].fileID(t.content.source),r.file=_Config2["default"].audio[r.fileID]),r}return _inherits(e,t),_createClass(e,[{key:"update",value:function(t){var e=Date.now(),r=(e-this.timestamp)/1e3;r>1&&this.file.play(),this.timestamp=e}}]),e}(_Layer3["default"]);Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerImage=void 0;var _Config=require("./Config"),_Config2=_interopRequireDefault(_Config),_Layer2=require("./Layer"),_Layer3=_interopRequireDefault(_Layer2),LayerImage=exports.LayerImage=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return void 0!==t.content&&(r.fileID=_Config2["default"].fileID(t.content.source),r.file=_Config2["default"].images[r.fileID]),r}return _inherits(e,t),e}(_Layer3["default"]);Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerShape=exports.Shape=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_Layer2=require("./Layer"),_Layer3=_interopRequireDefault(_Layer2),Shape=exports.Shape=function(){function t(){_classCallCheck(this,t),this.fill={color:16777215,enable:!0},this.stroke={color:16777215,enable:!0,thickness:1},this.vertices=[]}return _createClass(t,[{key:"update",value:function(){}},{key:"draw",value:function(){}}]),t}(),LayerShape=exports.LayerShape=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.item=new Shape,r}return _inherits(e,t),e}(_Layer3["default"]);Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerText=void 0;var _Layer2=require("./Layer"),_Layer3=_interopRequireDefault(_Layer2),LayerText=exports.LayerText=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _inherits(e,t),e}(_Layer3["default"]);Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerVideo=void 0;var _Config=require("./Config"),_Config2=_interopRequireDefault(_Config),_Layer2=require("./Layer"),_Layer3=_interopRequireDefault(_Layer2),LayerVideo=exports.LayerVideo=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.timeStamp=0,void 0!==t.content&&(r.fileID=_Config2["default"].fileID(t.content.source),r.file=_Config2["default"].video[r.fileID]),r}return _inherits(e,t),e}(_Layer3["default"]);Object.defineProperty(exports,"__esModule",{value:!0}),exports.Timeline=exports.PlayMode=void 0;var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_Timer=require("./Timer"),PlayMode=exports.PlayMode={LOOP:"loop",ONCE:"once",PING_PONG:"pingPong"},Timeline=exports.Timeline=function(){function t(){_classCallCheck(this,t),this.duration=0,this.timesPlayed=0,this.maxPlays=0,this.mode=PlayMode.LOOP,this.keyframes=[],this.markers=[],this.playing=!0,this.lastMarker=void 0,this.time={elapsed:0,stamp:0,speed:1}}return _createClass(t,[{key:"add",value:function(t,e,r,i,a,n,o,s,u,l,h,f){var c=0===this.duration?this.seconds+a:a,d=[n,o,s,u],p=new Keyframe(t,e,r,i,c,d,l,h,f);return this.addKeyframe(p)}},{key:"addKeyframe",value:function(t){return this.keyframes.push(t),t}},{key:"addMarker",value:function(t){return this.markers.push(t),this}},{key:"play",value:function(){if(0===this.time.elapsed)for(var t=this.keyframes.length-1,e=t;e>-1;--e)this.keyframes[e].update(0),this.keyframes[e].active=!1;this.playing=!0}},{key:"pause",value:function(){this.playing=!1}},{key:"update",value:function(){if(this.playing){var t=_Timer.TIME.now(),e=t-this.time.stamp;this.time.elapsed+=e*this.time.speed,this.time.stamp=t,this.duration>0&&this.updatePlaymode(),this.updateMarkers(),this.updateKeyframes()}}},{key:"updateKeyframes",value:function(){var t,e,r,i,a=this.keyframes.length,n=this.seconds;for(t=0;t<a;++t)r=this.keyframes[t],e=n,i=(e-r.timestamp)/r.duration,r.isActive(e)?(!r.active&&void 0===r.startValue&&this.time.speed>0&&(r.startValue=r.object[r.key]),r.active=!0,r.update(i)):r.active?(r.active=!1,this.time.speed<0?r.restart():r.complete()):(r.active=!1,0===this.duration&&e-r.timestamp>1&&(this.keyframes.splice(t,1),--t,--a))}},{key:"updateMarkers",value:function(){var t=this.prevSeconds,e=this.seconds;if(t>e)return-1;for(var r=Math.min(t,e),i=Math.max(t,e),a=this.markers.length,n=0;n<a;++n){var o=this.markers[n].time;if(o>r&&o<=i&&this.markers[n]!==this.lastMarker)return this.trigger(n),this.lastMarker=this.markers[n],n}return this.lastMarker=void 0,-1}},{key:"updatePlaymode",value:function(){var t=this.seconds;if(this.mode===PlayMode.PING_PONG)t>=this.duration?(this.time.elapsed=1e3*this.duration-1,this.time.speed*=-1):t<0&&(this.time.elapsed=1,this.time.speed=Math.abs(this.time.speed),++this.timesPlayed,this.maxPlays>0&&this.timesPlayed>=this.maxPlays&&this.pause());else if(this.mode===PlayMode.LOOP){if(t>this.duration)if(++this.timesPlayed,this.maxPlays>0&&this.timesPlayed>=this.maxPlays)this.pause(),this.time.elapsed=0;else{this.time.elapsed=0;for(var e=this.keyframes.length-1,r=e;r>-1;--r)this.keyframes[r].update(0),this.keyframes[r].active=!1}}else t>this.duration&&(++this.timesPlayed,this.pause(),this.time.elapsed=0)}},{key:"trigger",value:function(t){var e=this.markers[t];return void 0!==e&&("stop"===e.action?(this.pause(),this.seconds=e.time):"delay"===e.action&&e.trigger(),!0)}},{key:"playMode",get:function(){return this.mode},set:function(t){this.mode=t,t!==PlayMode.LOOP&&t!==PlayMode.ONCE||(this.time.speed=Math.abs(this.time.speed))}},{key:"seconds",get:function(){return this.time.elapsed/1e3},set:function(t){this.time.elapsed=1e3*t}},{key:"speed",get:function(){return this.time.speed},set:function(t){this.time.speed=t}},{key:"restartable",get:function(){return!!this.playing&&(!(this.maxPlays>0&&this.timesPlayed>=this.maxPlays)&&!(this.mode===PlayMode.LOOP&&this.timesPlayed>0))}}]),t}();Object.defineProperty(exports,"__esModule",{value:!0});var _DOMUtil=require("apollo-utils/DOMUtil"),_DOMUtil2=_interopRequireDefault(_DOMUtil),_MathUtil=require("apollo-utils/MathUtil"),_MathUtil2=_interopRequireDefault(_MathUtil),_Keyframe=require("../timeline/Keyframe"),_Keyframe2=_interopRequireDefault(_Keyframe),SVG={animate:function(t,e,r){var i,a,n,o=e.length;for(i=0;i<o;++i){var s=e[i];for(n=s.keys.length,a=0;a<n;++a){var u=s.keys[a],l=[u.value],h=u.target,f=u.start,c=u.duration,d=u.x0,p=u.y0,y=u.x1,m=u.y1,g=[d,p,y,m],v=void 0;switch(s.name){case"dash":v=new _Keyframe2["default"](t,"strokeDash",h,c,f,g,l,(void 0),(void 0));break;case"gap":v=new _Keyframe2["default"](t,"strokeGap",h,c,f,g,l,(void 0),(void 0));break;case"offset":v=new _Keyframe2["default"](t,"strokeOffset",h,c,f,g,l,(void 0),(void 0));break;case"width":v=new _Keyframe2["default"](t,"strokeWidth",h,c,f,g,l,(void 0),(void 0))}void 0!==v&&(v.easeType=u.type,r.addKeyframe(v))}}},morph:function(t,e,r,i){var a,n,o,s,u=this;for(n=e.length,a=0;a<n;++a){var l=e[a];s=l.keys.length;var h=function(){f=l.keys[o],c=f.start,d=f.duration,p=[f.x0,f.y0,f.x1,f.y1];var e={index:o,value:0,total:f.verticesValue.length,vertsValue:f.verticesValue,vertsTarget:f.verticesTarget,tanInValue:f.inTangentsValue,tanInTarget:f.inTangentsTarget,tanOutValue:f.outTangentsValue,tanOutTarget:f.outTangentsTarget};y=new _Keyframe2["default"](e,"value",1,d,c,p,(void 0),(void 0),function(i,a){for(var n={vertices:[],inTangents:[],outTangents:[]},o=0;o<e.total;++o){var s=o+1;if(closed)s%=e.total;else if(s>=e.total)break;n.vertices.push([_MathUtil2["default"].lerp(a,e.vertsValue[s][0],e.vertsTarget[s][0]),_MathUtil2["default"].lerp(a,e.vertsValue[s][1],e.vertsTarget[s][1])]),n.inTangents.push([_MathUtil2["default"].lerp(a,e.tanInValue[s][0],e.tanInTarget[s][0]),_MathUtil2["default"].lerp(a,e.tanInValue[s][1],e.tanInTarget[s][1])]),n.outTangents.push([_MathUtil2["default"].lerp(a,e.tanOutValue[s][0],e.tanOutTarget[s][0]),_MathUtil2["default"].lerp(a,e.tanOutValue[s][1],e.tanOutTarget[s][1])])}var l=u.getMaxBorder(r),h=u.bezierToPath(n,void 0,l,l);t.setAttribute("d",h),u.determineBounds(t,n,l)}),y.easeType=f.type,i.addKeyframe(y)};for(o=0;o<s;++o){var f,c,d,p,y;h()}}},create:function(){var t=window.document.createElementNS("http://www.w3.org/2000/svg","svg");return t},addPath:function(t,e,r,i){var a=document.createElementNS("http://www.w3.org/2000/svg","path");t.appendChild(a)},applyMasks:function(t,e){if(e.length>0){var r="url(#"+e.join(" ")+")";t.setAttribute("clip-path",r)}},createMasks:function(t,e){var r=[];if(void 0!==e.masks){var i,a=e.masks.length;for(i=0;i<a;++i){var n=e.masks[i],o=this.bezierToPath(n,!0),s=this.getDefs(t);void 0===s&&(s=document.createElementNS("http://www.w3.org/2000/svg","defs"),t.appendChild(s));var u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");u.id=n.name,s.appendChild(u),r.push(n.name);var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",o),u.appendChild(l)}}return r},circle:function(t,e,r,i){var a=document.createElementNS("http://www.w3.org/2000/svg","circle"),n=this.getMaxBorder(e);if(this.setup(a,e),a.x=t.x+n,a.y=t.y+n,a.radius=t.width,e.timeline.length>0&&void 0!==i&&this.animate(a,e.timeline,i),void 0!==r){var o=t.x+t.width+2*n,s=t.y+t.height+2*n;o>r.width&&(r.width=o),s>r.height&&(r.height=s)}return a},ellipse:function(t,e,r,i){var a=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),n=this.getMaxBorder(e);if(this.setup(a,e),a.x=t.width/2+t.x+n,a.y=t.height/2+t.y+n,a.width=t.width,a.height=t.height,e.timeline.length>0&&void 0!==i&&this.animate(a,e.timeline,i),void 0!==r){var o=t.x+t.width+2*n,s=t.y+t.height+2*n;o>r.width&&(r.width=o),s>r.height&&(r.height=s)}return a},rectangle:function(t,e,r,i){var a=document.createElementNS("http://www.w3.org/2000/svg","rect"),n=this.getMaxBorder(e);if(this.setup(a,e),a.x=t.x+n/2,a.y=t.y+n/2,a.width=t.width,a.height=t.height,a.roundness=t.roundness,e.timeline.length>0&&void 0!==i&&this.animate(a,e.timeline,i),void 0!==r){var o=t.x+t.width+n,s=t.y+t.height+n;o>r.width&&(r.width=o),s>r.height&&(r.height=s)}return a},determineBounds:function(t,e,r){var i,a=1e8,n=1e8,o=0,s=0,u=e.vertices,l=e.inTangents,h=e.outTangents,f=u.length;for(i=0;i<f;++i){var c=u[i][0]+h[i][0],d=u[i][1]+h[i][1];c<a&&(a=c),d<n&&(n=d)}for(i=0;i<f;++i){var p=u[i][0]+l[i][0]-a,y=u[i][1]+l[i][1]-n;p>o&&(o=p),y>s&&(s=y)}t.x=a+r,t.y=n+r,t.width=o,t.height=s},shape:function(t,e,r,i){var a=document.createElementNS("http://www.w3.org/2000/svg","path"),n=this.getMaxBorder(e),o=this.bezierToPath(t,void 0,n,n);if(a.setAttribute("d",o),this.setup(a,e),this.determineBounds(a,t,n),void 0!==i&&(e.timeline.length>0?this.animate(a,e.timeline,i):t.timeline.length>0&&this.morph(a,t.timeline,e,i)),void 0!==r){var s=a.x+a.width+2*n,u=a.y+a.height+2*n;s>r.width&&(r.width=s),u>r.height&&(r.height=u)}return a},setup:function(t,e){this.extend(t),void 0!==e.fill&&(t.fill=e.fill,void 0!==e.fillAlpha&&(t.fillAlpha=e.fillAlpha)),void 0!==e.stroke&&(t.stroke=e.stroke,t.strokeAlpha=e.strokeAlpha,t.strokeCap=e.strokeCap,t.strokeCorner=e.strokeCorner,t.strokeWidth=e.strokeWidth,void 0!==e.strokeDashes&&(t.strokeDash=e.strokeDashes.dash,t.strokeGap=e.strokeDashes.gap,t.strokeOffset=e.strokeDashes.offset))},extend:function(t){var e={fill:"none",fillR:-1,fillG:-1,fillB:-1,fillA:1,stroke:"none",strokeCap:"butt",strokeCorner:"miter",strokeDash:{dash:0,gap:0,offset:0},strokeR:-1,strokeG:-1,strokeB:-1,strokeA:1,strokeWidth:1};if(Object.defineProperty(t,"fill",{get:function(){return e.fill},set:function(t){e.fill=t;var r=_DOMUtil2["default"].cssToHex(e.fill);e.fillR=r[0],e.fillG=r[1],e.fillB=r[2],this.setAttribute("fill",t)}}),Object.defineProperty(t,"fillAlpha",{get:function(){return e.fillAlpha},set:function(t){e.fillAlpha=t,this.setAttribute("fill-opacity",t)}}),Object.defineProperty(t,"stroke",{get:function(){return e.stroke},set:function(t){e.stroke=t,this.setAttribute("stroke",t)}}),Object.defineProperty(t,"strokeCap",{get:function(){return e.strokeCap},set:function(t){e.strokeCap=t,this.setAttribute("stroke-linecap",t)}}),Object.defineProperty(t,"strokeCorner",{get:function(){return e.strokeCorner},set:function(t){e.strokeCorner=t,this.setAttribute("stroke-linejoin",t)}}),Object.defineProperty(t,"strokeDash",{get:function(){return e.strokeDash.dash},set:function(t){e.strokeDash.dash=t,this.setAttribute("stroke-dasharray",e.strokeDash.dash.toString()+", "+e.strokeDash.gap.toString())}}),Object.defineProperty(t,"strokeGap",{get:function(){return e.strokeDash.gap},set:function(t){e.strokeDash.gap=t,this.setAttribute("stroke-dasharray",e.strokeDash.dash.toString()+", "+e.strokeDash.gap.toString())}}),Object.defineProperty(t,"strokeOffset",{get:function(){return e.strokeDash.offset},set:function(t){e.strokeDash.offset=t,this.setAttribute("stroke-dashoffset",e.strokeDash.offset)}}),Object.defineProperty(t,"strokeAlpha",{get:function(){return e.strokeAlpha},set:function(t){e.strokeAlpha=t,this.setAttribute("stroke-opacity",t)}}),Object.defineProperty(t,"strokeWidth",{get:function(){return e.strokeWidth},set:function(t){e.strokeWidth=t,this.setAttribute("stroke-width",t)}}),t.getAttribute("fill")&&(t.fill=t.getAttribute("fill")),t.getAttribute("fill-opacity")&&(t.fillAlpha=t.getAttribute("fill-opacity")),t.getAttribute("stroke")&&(e.stroke=t.getAttribute("stroke")),t.getAttribute("stroke-linecap")&&(t.strokeCap=t.getAttribute("stroke-linecap")),t.getAttribute("stroke-linejoin")&&(t.strokeCorner=t.getAttribute("stroke-linejoin")),t.getAttribute("stroke-opacity")&&(t.strokeAlpha=Number(t.getAttribute("stroke-opacity"))),t.getAttribute("stroke-width")&&(t.strokeWidth=Number(t.getAttribute("stroke-width"))),t.getAttribute("stroke-dashoffset")&&(t.strokeOffset=Number(t.getAttribute("stroke-dashoffset"))),t.getAttribute("stroke-dasharray")){var r=t.getAttribute("stroke-dasharray").split(", ");t.strokeDash=Number(r[0]),t.strokeGap=Number(r[1])}var i={x:0,y:0,width:0,height:0,roundness:0};switch(t.tagName){case"rect":this.extendRect(t,i);break;case"circle":this.extendCircle(t,i);break;case"ellipse":this.extendEllipse(t,i);break;case"path":this.extendPath(t);break;case"polygon":break;case"polystar":}return t},extendRect:function(t,e){t.getAttribute("x")&&(e.x=Number(t.getAttribute("x"))),t.getAttribute("y")&&(e.y=Number(t.getAttribute("y"))),t.getAttribute("width")&&(e.width=Number(t.getAttribute("width"))),t.getAttribute("height")&&(e.height=Number(t.getAttribute("height"))),t.getAttribute("rx")&&(e.roundness=Number(t.getAttribute("rx"))),Object.defineProperty(t,"x",{get:function(){return e.x},set:function(t){e.x=t,this.setAttribute("x",t)}}),Object.defineProperty(t,"y",{get:function(){return e.x},set:function(t){e.y=t,this.setAttribute("y",t)}}),Object.defineProperty(t,"width",{get:function(){return e.width},set:function(t){e.width=t,this.setAttribute("width",t)}}),Object.defineProperty(t,"height",{get:function(){return e.height},set:function(t){e.height=t,this.setAttribute("height",t)}}),Object.defineProperty(t,"roundness",{get:function(){return e.roundness},set:function(t){e.roundness=t,this.setAttribute("rx",t),this.setAttribute("ry",t)}})},extendCircle:function(t,e){t.getAttribute("cx")&&(e.x=Number(t.getAttribute("x"))),t.getAttribute("cy")&&(e.y=Number(t.getAttribute("y"))),t.getAttribute("r")&&(e.width=e.height=Number(t.getAttribute("r"))),Object.defineProperty(t,"x",{get:function(){return e.x},set:function(t){e.x=t,this.setAttribute("cx",t)}}),Object.defineProperty(t,"y",{get:function(){return e.y},set:function(t){e.y=t,this.setAttribute("cy",t)}}),Object.defineProperty(t,"radius",{get:function(){return e.width},set:function(t){e.width=t,e.height=t,this.setAttribute("r",t)}})},extendEllipse:function(t,e){t.getAttribute("cx")&&(e.x=Number(t.getAttribute("x"))),t.getAttribute("cy")&&(e.y=Number(t.getAttribute("y"))),t.getAttribute("rx")&&(e.width=Number(t.getAttribute("rx"))),t.getAttribute("ry")&&(e.height=Number(t.getAttribute("ry"))),Object.defineProperty(t,"x",{get:function(){return e.x},set:function(t){e.x=t,this.setAttribute("cx",t)}}),Object.defineProperty(t,"y",{get:function(){return e.y},set:function(t){e.y=t,this.setAttribute("cy",t)}}),Object.defineProperty(t,"width",{get:function(){return e.width},set:function(t){e.width=t,this.setAttribute("rx",t/2)}}),Object.defineProperty(t,"height",{get:function(){return e.height},set:function(t){e.height=t,this.setAttribute("ry",t/2)}})},extendPath:function(t){t.straightPath=!0,void 0!==t.getAttribute("d")&&(t.straightPath=!t.getAttribute("d").match(/[C|c|S|s]/g)),t.points=this.pathToPoints(t),t.originals=t.points.slice(),t.segments=_MathUtil2["default"].bezierPathDistance(t.points[0]),t._startPercent=0,t._endPercent=1,t._offsetPercent=0;var e=(Date.now(),this);Object.defineProperty(t,"firstPath",{set:function(t){this.points[0]=t},get:function(){return this.points||(void 0!==this.getAttribute("d")?this.points=e.pathToPoints(this.getAttribute("d"),this.straightPath):this.points=[[]]),this.points[0]}}),Object.defineProperty(t,"startPercent",{get:function(){return this._startPercent},set:function(t){this._startPercent=t,this.updatePath()}}),Object.defineProperty(t,"endPercent",{get:function(){return this._endPercent},set:function(t){this._endPercent=t,this.updatePath()}}),Object.defineProperty(t,"offsetPercent",{get:function(){return this._offsetPercent},set:function(t){this._offsetPercent=t,this.updatePath()}}),t.pointAt=function(e){return _MathUtil2["default"].getPointInPath(t.points[0],t.segments,e)},t.updatePathBetween=function(t,e){this.refPath=this.refPath||this.firstPath,this.firstPath=this.refPath.slice(),this.segments||(this.segments=_MathUtil2["default"].bezierPathDistance(this.points[0]));var r=3,i=this.segments.slice(),a=new Object,n=null,o=_MathUtil2["default"].roundTo(t,r),s=_MathUtil2["default"].roundTo(e,r);if(o>s){var u=_MathUtil2["default"].lerpArray(.5,o,1+s);u=_MathUtil2["default"].roundTo(u-Math.floor(u),r),u>=t&&u<=e&&(n=u)}return(this._startPercent>0||this._endPercent<1)&&(this.firstPath=_MathUtil2["default"].getPathBetween(t,e,this.firstPath,i,a,n)),[this.firstPath]},t.updatePath=function(){var t=this.originals,r=this._offsetPercent,i=this._startPercent+r,a=this._endPercent+r;if((i>1||i<0)&&(i%=1),(a>1||a<0)&&(a%=1),i===a)return void this.setAttribute("d","");if(0===a&&0!==this._endPercent&&(a=1),i>0||a<1)if(i>a){t=this.updatePathBetween(i,1);var n=e.arrayToSVGPath(t,this.straightPath);t=this.updatePathBetween(0,a);var o=e.arrayToSVGPath(t,this.straightPath);this.setAttribute("d",n+o)}else{t=this.updatePathBetween(i,a);var n=e.arrayToSVGPath(t,this.straightPath);this.setAttribute("d",n)}}},getMaxBorder:function(t){var e=void 0!==t.strokeWidth?t.strokeWidth/2:0;
if(t.timeline.length>0){var r,i=t.timeline.length;for(r=0;r<i;++r){var a=t.timeline[r];if("width"===a.name){var n,o=a.keys.length;for(n=0;n<o;++n){var s=a.keys[n];s.target>e?e=s.target:s.value>e&&(e=s.value)}return e}}}return e},addCurveForLine:function(t,e,r,i){t.push(_MathUtil2["default"].lerpArray(.01,e,r)),t.push(_MathUtil2["default"].lerpArray(.99,e,r)),t.push(r)},addPointToArray:function(t,e,r,i){var a=[0,0];switch(t.length>0&&(a=t[t.length-1]),r){case"M":t.push([e[0],e[1]]);break;case"c":this.pushNumbersForCurve(t,e,a);break;case"C":this.pushNumbersForCurve(t,e,[0,0]);break;case"h":this.addCurveForLine(t,a,[a[0]+e[0],a[1]],i);break;case"H":this.addCurveForLine(t,a,[e[0],a[1]],i);break;case"v":this.addCurveForLine(t,a,[a[0],a[1]+e[0]],i);break;case"V":this.addCurveForLine(t,a,[a[0],e[0]],i);break;case"l":this.addCurveForLine(t,a,_MathUtil2["default"].add(a,e),i);break;case"L":this.addCurveForLine(t,a,e,i);break;case"S":var n=t[t.length-2],o=_MathUtil2["default"].subArray(a,n),s=_MathUtil2["default"].addArray(a,o);t.push(s),t.push([e[0],e[1]]),t.push([e[2],e[3]]);break;case"s":var n=t[t.length-2],o=_MathUtil2["default"].subArray(a,n),s=_MathUtil2["default"].addArray(a,o);t.push(s),t.push([a[0]+e[0],a[1]+e[1]]),t.push([a[0]+e[2],a[1]+e[3]]);break;default:console.log("ORDER UNKNOWN :",r)}},arrayToSVGString:function(t,e){var r="M"+Math.floor(10*t[0][0])/10+","+(Math.floor(10*t[0][1])/10).toString();if(e)for(var i=1,a=t.length;i<a;i++)r+="L"+Math.floor(10*t[i][0])/10,t[i][1]>=0&&(r+=","),r+=(Math.floor(10*t[i][1])/10).toString();else for(var i=1,a=t.length;i<a;i+=3){r+="C"+Math.floor(10*t[i][0])/10+","+Math.floor(10*t[i][1])/10;for(var n=i+1;n<i+3;n++)r+=","+(Math.floor(10*t[n][0])/10).toString()+","+(Math.floor(10*t[n][1])/10).toString()}return r},arrayToSVGPath:function(t,e){for(var r=[],i=0,a=t.length;i<a;i++)r+=this.arrayToSVGString(t[i],e);return r},arrayToSVGPoints:function(t){for(var e="",r=0,i=t.length;r<i;r++)e+=t[r][0].toString()+","+t[r][1].toString()+" ";return e},bezierToPath:function(t,e,r,i){var a=t.vertices,n=t.inTangents,o=t.outTangents,s=void 0!==r?r:0,u=void 0!==i?i:0,l="M";l+=_MathUtil2["default"].roundTo(a[0][0]+s,1).toString()+","+_MathUtil2["default"].roundTo(a[0][1]+u,1).toString();var h,f,c,d,p,y,m,g,v,_,b,k,w,P,C,x=a.length-1,M=x-1;for(h=0;h<x;++h)f=h+1,c=a[h],d=n[h],p=o[h],y=a[f],m=n[f],g=o[f],v=_MathUtil2["default"].roundTo(c[0]+p[0]+s,1),_=_MathUtil2["default"].roundTo(c[1]+p[1]+u,1),w=_MathUtil2["default"].roundTo(y[0]+s,1),P=_MathUtil2["default"].roundTo(y[1]+u,1),b=_MathUtil2["default"].roundTo(w+m[0],1),k=_MathUtil2["default"].roundTo(P+m[1],1),C=0===d[0]&&0===d[1]&&0===p[0]&&0===p[1],C=C||w===b&&P===k,C?(l+="L",l+=b.toString()+","+k.toString(),h<M&&(l+=",")):(l+="C",l+=v.toString()+","+_.toString()+",",l+=b.toString()+","+k.toString()+",",l+=w.toString()+","+P.toString());return t.closed!==!0&&e!==!0||(h=x,f=0,c=a[h],d=n[h],p=o[h],y=a[f],m=n[f],g=o[f],0===d[0]&&0===d[1]&&0===p[0]&&0===p[1]?(l+="L",l+=_MathUtil2["default"].roundTo(c[0]+s,1).toString()+","+_MathUtil2["default"].roundTo(c[1]+u,1).toString()+",",l+="Z"):(l+="C",l+=_MathUtil2["default"].roundTo(c[0]+p[0]+s,1).toString()+","+_MathUtil2["default"].roundTo(c[1]+p[1]+u,1).toString()+",",l+=_MathUtil2["default"].roundTo(y[0]+m[0]+s,1).toString()+","+_MathUtil2["default"].roundTo(y[1]+m[1]+u,1).toString()+",",l+=_MathUtil2["default"].roundTo(y[0]+s).toString()+","+_MathUtil2["default"].roundTo(y[1]+u).toString())),l},pathToPoints:function(t){var e=t.getAttribute("d"),r=void 0!==e&&!e.match(/[C|c|S|s]/g),i=e.match(/([a-z]|[A-Z])/g),a=e.match(/([^a-zA-Z]+)/g),n=[],o=[];n.push(o);for(var s=0,u=a.length;s<u;s++){var l=a[s],h=l.match(/\-?[0-9|\.]+/g);if(h){for(var f=0,c=h.length;f<c;f++)h[f]=parseFloat(h[f]);this.addPointToArray(o,h,i[s],r)}else o=[],n.push(o)}return n},pointsToArray:function(t){for(var e=t.match(/\-?[0-9|\.]+/g),r=[],i=0,a=e.length;i<a;i+=2)r.push([parseFloat(e[i]),parseFloat(e[i+1])]);return r},pushNumbersForCurve:function(t,e,r){for(var i=0,a=e.length;i<a;i+=2)t.push(_MathUtil2["default"].addArray(r,[e[i],e[i+1]]))},getDefs:function(t){var e,r=t.children.length;for(e=0;e<r;++e){var i=t.children[e];if("defs"===i.tagName)return i}}};exports["default"]=SVG,Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_CSSUtil=require("apollo-utils/CSSUtil"),_CSSUtil2=_interopRequireDefault(_CSSUtil),_SVGUtil=require("./SVGUtil"),_SVGUtil2=_interopRequireDefault(_SVGUtil),_Keyframe=require("../timeline/Keyframe"),_Keyframe2=_interopRequireDefault(_Keyframe),SVGItem=function(){function t(e,r){_classCallCheck(this,t),this.item=_SVGUtil2["default"].create(),_CSSUtil2["default"].extend(this.item),this.item.title=e.name;var i=_SVGUtil2["default"].createMasks(this.item,e),a=e.transform;void 0!==a&&t.transform(this.item,a,r);for(var n=e.content.length,o=0;o<n;++o){var s=e.content[o],u=void 0,l=void 0;if("shape"===s.type){var h=styleOptions(this.item,s.content,r),f=_SVGUtil2["default"].getMaxBorder(h);for(l=s.paths.length,u=0;u<l;++u){var c=s.paths[u],d=void 0;switch(c.type){case"rectangle":d=_SVGUtil2["default"].rectangle(c,h,this.item,r);break;case"ellipse":d=_SVGUtil2["default"].ellipse(c,h,this.item,r),this.item.x-=f/2,this.item.y-=f/2;break;case"polygon":break;case"polystar":break;case"shape":d=_SVGUtil2["default"].shape(c,h,this.item,r),this.item.x-=f/2,this.item.y-=f/2}void 0!==d?(this.item.x-=f/2,this.item.y-=f/2,_SVGUtil2["default"].applyMasks(d,i),this.item.appendChild(d)):console.log(u,"no shape")}for(l=s.content.length,u=0;u<l;++u){var p=s.content[u];"trim"===p.type&&applyTrimPath(this.item.children[0],p,r)}}else if("trim"===s.type)for(l=this.item.children.length,u=0;u<l;++u){var y=this.item.children[u];"path"===y.tagName&&applyTrimPath(y,s,r)}}}return _createClass(t,null,[{key:"transform",value:function(t,e,r){var i=e.anchor,a=e.position,n=e.rotation,o=e.scale,s=i[0]/t.width*100,u=i[1]/t.height*100;if(t.style.position="absolute",t.x=a[0],t.y=a[1],t.rotateX=n[0],t.rotateY=n[1],t.rotateZ=n[2],t.scaleX=o[0],t.scaleY=o[1],t.originX=s,t.originY=u,t.translateX=-i[0],t.translateY=-i[1],t.translateZ=a.length>2?a[2]:0,t.opacity=e.opacity,void 0!==e.timeline){var l=void 0,h=void 0,f=void 0,c=e.timeline.length;for(l=0;l<c;++l){var d=e.timeline[l];for(f=d.keys.length,h=0;h<f;++h){var p=d.keys[h],y=p.value,m=p.target,g=p.start,v=p.duration,_=p.x0,b=p.y0,k=p.x1,w=p.y1,P=[_,b,k,w],C=void 0;switch(d.name){case"opacity":C=new _Keyframe2["default"](t,"opacity",m,v,g,P,y);break;case"positionX":C=new _Keyframe2["default"](t,"x",m,v,g,P,y);break;case"positionY":C=new _Keyframe2["default"](t,"y",m,v,g,P,y);break;case"positionZ":C=new _Keyframe2["default"](t,"translateZ",m,v,g,P,y);break;case"rotationX":y*=-1,C=new _Keyframe2["default"](t,"rotateX",(-m),v,g,P,y);break;case"rotationY":y*=-1,C=new _Keyframe2["default"](t,"rotateY",(-m),v,g,P,y);break;case"rotationZ":C=new _Keyframe2["default"](t,"rotateZ",m,v,g,P,y);break;case"scaleX":C=new _Keyframe2["default"](t,"scaleX",m,v,g,P,y);break;case"scaleY":C=new _Keyframe2["default"](t,"scaleY",m,v,g,P,y);break;case"scaleZ":C=new _Keyframe2["default"](t,"scaleZ",m,v,g,P,y)}void 0!==C&&(C.easeType=p.type,r.addKeyframe(C))}}}}}]),t}();exports["default"]=SVGItem;