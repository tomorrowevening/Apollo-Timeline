"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Keyframe=exports.KeyframeType=void 0;var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_MathUtil=require("apollo-utils/MathUtil"),KeyframeType=exports.KeyframeType={LINEAR:"linear",BEZIER:"bezier",HOLD:"hold"},Keyframe=exports.Keyframe=function(){function e(t,i,s,a,r){_classCallCheck(this,e),r=void 0!==r?r:{},this.active=!1,this.object=t,this.key=i,this.endValue=s,this.duration=a,this.timestamp=void 0!==r.delay?r.delay:0,this.ease=void 0!==r.ease?r.ease:[.25,.25,.75,.75],this.startValue=r.start,this.onComplete=r.onComplete,this.onUpdate=r.onUpdate,this.easeType=KeyframeType.BEZIER,this.ease[0]===this.ease[1]&&this.ease[2]===this.ease[3]&&(this.easeType=KeyframeType.LINEAR)}return _createClass(e,[{key:"update",value:function(e){var t=e;this.easeType===KeyframeType.BEZIER?t=(0,_MathUtil.curveAt)(t,this.ease[0],this.ease[1],this.ease[2],this.ease[3]):this.easeType===KeyframeType.HOLD&&(t=e<1?0:1),this.active||void 0!==this.startValue||(this.startValue=this.object[this.key]),this.object[this.key]=(0,_MathUtil.lerp)(t,this.startValue,this.endValue),void 0!==this.onUpdate&&this.onUpdate(e,t)}},{key:"complete",value:function(){this.update(1),void 0!==this.onComplete&&this.onComplete(),this.active=!1}},{key:"isActive",value:function(e){return e>=this.startTime&&e<=this.endTime}},{key:"startTime",get:function(){return this.timestamp}},{key:"endTime",get:function(){return this.timestamp+this.duration}}]),e}();