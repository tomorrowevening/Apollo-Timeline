"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),TIME=exports.TIME=performance||Date,Timer=exports.Timer=function(){function t(e){_classCallCheck(this,t),this.running=!1,this.time=1,this.timeStamp=0,this.deltaStamp=0,this.elapsedStamp=0,this.delayed=[],this.onRAF=void 0,this.onUpdate=this.update.bind(this),this.updateHandler=e}return _createClass(t,[{key:"play",value:function(){this.timeStamp=TIME.now(),this.running=!0,this.update()}},{key:"pause",value:function(){window.cancelAnimationFrame(this.onRAF),this.running=!1}},{key:"restart",value:function(){this.deltaStamp=this.elapsedStamp=0,this.stamp()}},{key:"stamp",value:function(){this.timeStamp=TIME.now()}},{key:"update",value:function(){var t=TIME.now();this.deltaStamp=t-this.timeStamp,this.elapsedStamp+=this.deltaStamp*this.time,this.timeStamp=t;var e=void 0,a=void 0,i=this.delayed.length;for(e=0;e<i;++e)a=this.delayed[e],t>=a.time&&(a.callback(a.params),this.delayed.splice(e,1),--e,--i);this.updateHandler(),this.onRAF=window.requestAnimationFrame(this.onUpdate)}},{key:"delay",value:function(t,e,a){this.delayed.push({time:1e3*t+TIME.now(),callback:e,params:a})}},{key:"seconds",get:function(){return this.elapsedStamp/1e3},set:function(t){this.elapsedStamp=1e3*t}}]),t}();